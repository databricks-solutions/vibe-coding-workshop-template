# =============================================================================
# Skill: Lakebase Search
# =============================================================================
# Queries the Lakebase PostgreSQL database for accommodation listings
# matching structured criteria (location, price, guests, rating).
#
skill_id: lakebase_search
name: "Lakebase Database Search"
description: >
  Searches the Lakebase (PostgreSQL) database for accommodation listings
  matching location, price range, guest count, and rating filters.
version: 1
type: lakebase_query

config:
  timeout_seconds: 15
  extra:
    query_type: "search_listings"

input_schema:
  - name: location
    type: string
    required: true
    description: "City or location to search"
  - name: guests
    type: number
    required: false
    default: 2
    description: "Number of guests"
  - name: price_max
    type: number
    required: false
    description: "Maximum price per night"
  - name: rating_min
    type: number
    required: false
    description: "Minimum rating"
  - name: limit
    type: number
    required: false
    default: 10
    description: "Maximum results to return"

output_schema:
  - name: items
    type: list
    required: true
    description: "List of matching listing items"
  - name: total_count
    type: number
    required: true
    description: "Total number of matching listings"

fallback:
  strategy: default_value
  default_value:
    items: []
    total_count: 0

tags:
  - search
  - database
  - lakebase

mock_enabled: true
